#!/usr/bin/env python
# -*- coding: utf-8 -*-
#** -----------------------------------------------------------------------------------------------
#*  pyACME
#*  Copyright (c) 2010, Milton Abrunhosa
#*  -----------------------------------------------------------------------------------------------
#*  Package..: SiPAR
#*  Classe...: pwiz
#*
#*  Descrição: this class holds the code for creating a welcome and setup screen for SiPAR
#*             Furthermore, this class takes care of all interaction with the user
#*  -----------------------------------------------------------------------------------------------
#*  Detalhes de Alteração       
#*  -----------------------------------------------------------------------------------------------
#*  well     1997/fev/12  versão 1.0 started
#*  mlabru   2009/set/01  versão 3.0 started
#*  -----------------------------------------------------------------------------------------------
#*  Detalhes de Versão
#*  -----------------------------------------------------------------------------------------------
#*  start    1997/fev/12  versão inicial (DOS/Modula-2)
#*  3.01-01  2009/set/01  versão para Linux
#*  -----------------------------------------------------------------------------------------------
#*/

#** -----------------------------------------------------------------------------------------------
#*  includes
#*  -----------------------------------------------------------------------------------------------
#*/

#/ Python library
#/ ------------------------------------------------------------------------------------------------
import sys

#/ log4Py (logger)
#/ ------------------------------------------------------------------------------------------------
import logging

#/ PyQt library
#/ ------------------------------------------------------------------------------------------------
from PyQt4 import QtGui

#/ SiPAR / view
#/ ------------------------------------------------------------------------------------------------
import view.dialog.Qt.wndMain as wndMain

#** -----------------------------------------------------------------------------------------------
#*  pwiz::main
#*  -----------------------------------------------------------------------------------------------
#*  DOCUMENT ME!
#*  -----------------------------------------------------------------------------------------------
#*/
def main ():

    #** -------------------------------------------------------------------------------------------
    #*  m.poirot logger
    #*/
    logging.basicConfig ()
                
    #** -------------------------------------------------------------------------------------------
    #*  m.poirot logger
    #*
    logger = logging.getLogger ( "pwiz" )
                                
    #** -------------------------------------------------------------------------------------------
    #*  set verbosity to show all messages of severity >= DEBUG
    #*
    logger.setLevel ( logging.DEBUG )
                                                
    #** -------------------------------------------------------------------------------------------
    #*
    l_App = QtGui.QApplication ( sys.argv )
    assert ( l_App )

    #** -------------------------------------------------------------------------------------------
    #*
    l_App.setOrganizationName ( "ICEA" )
    l_App.setOrganizationDomain ( "peea.icea.br" )
    l_App.setApplicationName ( "SiPAR" )
    l_App.setWindowIcon ( QtGui.QIcon ( "data/images/icon.png" ))

    #** -------------------------------------------------------------------------------------------
    #*  cria o menu principal
    #*/
    l_Menu = wndMain.wndMain ()
    assert ( l_Menu )

    #** -------------------------------------------------------------------------------------------
    #*  exibe o menu principal
    #*/
    l_Menu.show ()

    #** -------------------------------------------------------------------------------------------
    #*  processa a aplicação
    #*/
    l_App.exec_ ()

#** -----------------------------------------------------------------------------------------------
#*  this is the bootstrap process
#*/
if ( '__main__' == __name__ ):

    #** -------------------------------------------------------------------------------------------
    #*  try to load psyco
    #*/
    try:
                
        #** ---------------------------------------------------------------------------------------
        #*  import psyco if available
        #*/
        import psyco
                                                
        #** ---------------------------------------------------------------------------------------
        #*/
        psyco.log ()
        psyco.full ()
        #psyco.profile ( 0.05 )
                                                                                        
    #** -------------------------------------------------------------------------------------------
    #*  psyco not found ?
    #*/
    except ImportError:
                                                                                                        
        #** ---------------------------------------------------------------------------------------
        #*  get psyco !
        #*/
        print "Get psyco !"
                                                                                                                                        
    #** -------------------------------------------------------------------------------------------
    #*  run application
    #*/
    main ()

#** ----------------------------------------------------------------------------------------------- *#
